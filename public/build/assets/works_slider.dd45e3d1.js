import{_ as E,P as N,N as V,S as R,a as A,o as h,c as x,b as F,w as z,F as y,r as j,d as O,e as m,n as U,t as B,f as P,g as C,h as $}from"./_plugin-vue_export-helper.2df5e06b.js";import{A as q}from"./index.1f50102a.js";function D(a){let{swiper:e,extendParams:g}=a;g({grid:{rows:1,fill:"column"}});let l,c,_;const b=t=>{const{slidesPerView:s}=e.params,{rows:r,fill:f}=e.params.grid;c=l/r,_=Math.floor(t/r),Math.floor(t/r)===t/r?l=t:l=Math.ceil(t/r)*r,s!=="auto"&&f==="row"&&(l=Math.max(l,s*r))},M=(t,s,r,f)=>{const{slidesPerGroup:d,spaceBetween:v}=e.params,{rows:n,fill:w}=e.params.grid;let u,o,i;if(w==="row"&&d>1){const S=Math.floor(t/(d*n)),k=t-n*d*S,I=S===0?d:Math.min(Math.ceil((r-S*n*d)/n),d);i=Math.floor(k/I),o=k-i*I+S*d,u=o+i*l/n,s.css({"-webkit-order":u,order:u})}else w==="column"?(o=Math.floor(t/n),i=t-o*n,(o>_||o===_&&i===n-1)&&(i+=1,i>=n&&(i=0,o+=1))):(i=Math.floor(t/c),o=t-i*c);s.css(f("margin-top"),i!==0?v&&`${v}px`:"")},p=(t,s,r)=>{const{spaceBetween:f,centeredSlides:d,roundLengths:v}=e.params,{rows:n}=e.params.grid;if(e.virtualSize=(t+f)*l,e.virtualSize=Math.ceil(e.virtualSize/n)-f,e.$wrapperEl.css({[r("width")]:`${e.virtualSize+f}px`}),d){s.splice(0,s.length);const w=[];for(let u=0;u<s.length;u+=1){let o=s[u];v&&(o=Math.floor(o)),s[u]<e.virtualSize+s[0]&&w.push(o)}s.push(...w)}};e.grid={initSlides:b,updateSlide:M,updateWrapperSize:p}}const T={name:"slider.vue",data(){return{slides:[],modules:[N,V,D],currentIndex:0,activeSlide:[],lang:""}},components:{Swiper:R,SwiperSlide:A},mounted(){this.loadSlides(),this.lang=document.documentElement.lang},methods:{loadSlides(){q.get("/api/works").then(a=>{this.slides=a.data.data,this.activeSlide=a.data.data[0]}).catch(a=>{console.log(a)})},resize(a,e=[]){const g=Object.keys(e).map(l=>encodeURIComponent(l)+"="+encodeURIComponent(e[l])).join("&");return a.src+"&"+g}}},W={key:0,class:"h-full pb-4 relative flex-1 slider-container"},G=["href","title"],H={class:"w-full flex-1 overflow-hidden"},J={key:1,class:"relative min-h-[20%]"},K=m("div",{class:"swiper-pagination"},null,-1),Q=m("div",{class:"swiper-button-next"},null,-1),X=m("div",{class:"swiper-button-prev"},null,-1),Y=[K,Q,X];function Z(a,e,g,l,c,_){const b=C("swiper-slide"),M=C("swiper");return h(),x(y,null,[c.slides?(h(),x("div",W,[F(M,{cssMode:!0,modules:c.modules,slidesPerView:4,spaceBetween:30,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},grid:{rows:2},pagination:{enabled:!0,type:"bullets",el:".swiper-pagination"},class:"work-slider h-full w-full"},{default:z(()=>[(h(!0),x(y,null,j(c.slides,p=>(h(),O(b,{class:"flex-row h-full w-full"},{default:z(()=>[m("a",{href:c.lang+"/works/"+p.slug,class:"w-full h-full z-10 swiper-no-swiping flex flex-col",title:p.title},[m("div",H,[m("div",{class:"h-full w-full bg-cover bg-no-repeat bg-center hover:scale-110 transition-transform",style:U({backgroundImage:"url("+p.cover+")"})},null,4)]),m("p",null,B(p.title)+" - "+B(p.year),1)],8,G)]),_:2},1024))),256))]),_:1},8,["modules","navigation","pagination"])])):P("",!0),c.slides?(h(),x("div",J,Y)):P("",!0)],64)}const L=E(T,[["render",Z]]),ee=$(L);ee.mount("#app");
