import{_ as u,c as i,F as m,d as h,b as w,f as e,D as f,E as c,C as b,o as r,t as p,g as a,G as k,H as v,h as g}from"./_plugin-vue_export-helper.dca86667.js";import{a as y}from"./index.83bc9570.js";const x={name:"BulkUpload",data(){return{form:{row_start:1,row_limit:1,file:""},errors:[],loading:!1}},methods:{send(){if(this.errors=[],!this.form.file)alert("Nincs file kiv\xE1lasztva");else if(this.form.row_start<1||this.form.row_limit<1)alert("Nem megfelel\u0151ek a felt\xF6lteni k\xEDv\xE1nt sorok sz\xE1ma.");else if(this.form.file.type!=="text/csv")alert("Csak csv file form\xE1tum t\xF6lthet\u0151 fel");else{this.loading=!0;const o=new FormData;o.append("row_start",this.form.row_start),o.append("row_limit",this.form.row_limit),o.append("file",this.form.file),y.post("/api/admin/bulk-update",o).then(t=>{t.data==="success"?alert("Felt\xF6ltve"):this.errors=t,this.loading=!1}).catch(t=>{console.log(t),this.loading=!1})}},handleFileUpload(){this.form.file="",this.form.file=file.files[0],console.log("selected file",file.files[0])}}},n=o=>(k("data-v-c156ceb3"),o=o(),v(),o),F={key:0},B={style:{color:"red"}},U={class:"form-group"},z=n(()=>e("label",{for:"row_start"},[a("Sor kezdete "),e("small",null," (innen kezdi a felt\xF6lt\xE9st)")],-1)),S={class:"form-group"},V=n(()=>e("label",{for:"row_limit"},[a("Limit "),e("small",null," (ha kissebb mint 1 akkor nem t\xF6lt fel!)")],-1)),C={class:"form-group"},D=n(()=>e("label",{for:"file"},"F\xE1jl",-1)),N={key:0,type:"button",class:"form-button process",disabled:""},I=n(()=>e("svg",{class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"white","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"#464646",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),M=a(" Processing... "),A=[I,M],E={key:1,type:"submit",class:"form-button submit"};function H(o,t,T,j,l,d){return r(),i(m,null,[l.errors?(r(),i("div",F,[(r(!0),i(m,null,h(l.errors.data,s=>(r(),i("div",null,[e("h1",null,[e("span",B,p(s.row)+". sor",1),a(" --- "+p(s.errors[0]),1)])]))),256))])):w("",!0),e("form",{onSubmit:t[3]||(t[3]=b((...s)=>d.send&&d.send(...s),["prevent"]))},[e("div",U,[z,f(e("input",{name:"row_start",id:"row_start",type:"number","onUpdate:modelValue":t[0]||(t[0]=s=>l.form.row_start=s)},null,512),[[c,l.form.row_start]])]),e("div",S,[V,f(e("input",{name:"row_limit",id:"row_limit",type:"number","onUpdate:modelValue":t[1]||(t[1]=s=>l.form.row_limit=s)},null,512),[[c,l.form.row_limit]])]),e("div",C,[D,e("input",{ref:"file",name:"file",id:"file",type:"file",onChange:t[2]||(t[2]=s=>d.handleFileUpload())},null,544)]),l.loading?(r(),i("button",N,A)):(r(),i("button",E,"Felt\xF6lt\xE9s"))],32)],64)}const L=u(x,[["render",H],["__scopeId","data-v-c156ceb3"]]),_=g({});_.component("bulk-upload",L);_.mount("#app");
