import"./vue.esm-bundler.88f29b14.js";import{a as u}from"./index.83bc9570.js";import{_ as h,c as i,F as m,r as w,e as g,d as e,U as p,V as f,W as v,o as r,t as _,X as a,Y as b,Z as k,g as y}from"./_plugin-vue_export-helper.5bd245c3.js";const x={name:"BulkUpload",data(){return{form:{row_start:2,row_limit:0,file:""},errors:[],loading:!1}},methods:{send(){if(this.errors=[],!this.form.file)alert("Nincs file kiv\xE1lasztva");else{this.loading=!0;const o=new FormData;o.append("row_start",this.form.row_start),o.append("row_limit",this.form.row_limit),o.append("file",this.form.file),u.post("/api/admin/bulk-update",o).then(t=>{t==="success"?alert("Felt\xF6ltve"):this.errors=t,this.loading=!1}).catch(t=>{console.log(t),this.loading=!1})}},handleFileUpload(){this.form.file=file.files[0],console.log("selected file",file.files[0])}}},n=o=>(b("data-v-a7fa7748"),o=o(),k(),o),F={key:0},U={style:{color:"red"}},B={class:"form-group"},V=n(()=>e("label",{for:"row_start"},[a("Sor kezdete "),e("small",null," (innen kezdi a felt\xF6lt\xE9st)")],-1)),S={class:"form-group"},z=n(()=>e("label",{for:"row_limit"},[a("Limit "),e("small",null," (ha kissebb mint 1 akkor nem t\xF6lt fel!)")],-1)),D={class:"form-group"},I=n(()=>e("label",{for:"file"},"F\xE1jl",-1)),N={key:0,type:"button",class:"form-button process",disabled:""},C=n(()=>e("svg",{class:"animate-spin",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"white","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"#464646",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1)),M=a(" Processing... "),A=[C,M],L={key:1,type:"submit",class:"form-button submit"};function T(o,t,E,H,l,d){return r(),i(m,null,[l.errors?(r(),i("div",F,[(r(!0),i(m,null,w(l.errors.data,s=>(r(),i("div",null,[e("h1",null,[e("span",U,_(s.row)+". sor",1),a(" --- "+_(s.errors[0]),1)])]))),256))])):g("",!0),e("form",{onSubmit:t[3]||(t[3]=v((...s)=>d.send&&d.send(...s),["prevent"]))},[e("div",B,[V,p(e("input",{name:"row_start",id:"row_start",type:"number","onUpdate:modelValue":t[0]||(t[0]=s=>l.form.row_start=s)},null,512),[[f,l.form.row_start]])]),e("div",S,[z,p(e("input",{name:"row_limit",id:"row_limit",type:"number","onUpdate:modelValue":t[1]||(t[1]=s=>l.form.row_limit=s)},null,512),[[f,l.form.row_limit]])]),e("div",D,[I,e("input",{ref:"file",name:"file",id:"file",type:"file",onChange:t[2]||(t[2]=s=>d.handleFileUpload())},null,544)]),l.loading?(r(),i("button",N,A)):(r(),i("button",L,"Felt\xF6lt\xE9s"))],32)],64)}const j=h(x,[["render",T],["__scopeId","data-v-a7fa7748"]]),c=y({});c.component("bulk-upload",j);c.mount("#app");
