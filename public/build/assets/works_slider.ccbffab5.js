import{_ as C,c as g,a as E,w as z,b as k,F as P,r as B,o as h,d as R,e as F,f,n as j,g as O,t as N,h as T}from"./_plugin-vue_export-helper.dca86667.js";import{a as U}from"./index.83bc9570.js";import{P as $,N as q,S as A,a as D}from"./navigation.min.532351e4.js";function W(a){let{swiper:e,extendParams:_}=a;_({grid:{rows:1,fill:"column"}});let l,c,v;const b=t=>{const{slidesPerView:s}=e.params,{rows:r,fill:m}=e.params.grid;c=l/r,v=Math.floor(t/r),Math.floor(t/r)===t/r?l=t:l=Math.ceil(t/r)*r,s!=="auto"&&m==="row"&&(l=Math.max(l,s*r))},M=(t,s,r,m)=>{const{slidesPerGroup:d,spaceBetween:S}=e.params,{rows:n,fill:w}=e.params.grid;let p,o,i;if(w==="row"&&d>1){const x=Math.floor(t/(d*n)),y=t-n*d*x,I=x===0?d:Math.min(Math.ceil((r-x*n*d)/n),d);i=Math.floor(y/I),o=y-i*I+x*d,p=o+i*l/n,s.css({"-webkit-order":p,order:p})}else w==="column"?(o=Math.floor(t/n),i=t-o*n,(o>v||o===v&&i===n-1)&&(i+=1,i>=n&&(i=0,o+=1))):(i=Math.floor(t/c),o=t-i*c);s.css(m("margin-top"),i!==0?S&&`${S}px`:"")},u=(t,s,r)=>{const{spaceBetween:m,centeredSlides:d,roundLengths:S}=e.params,{rows:n}=e.params.grid;if(e.virtualSize=(t+m)*l,e.virtualSize=Math.ceil(e.virtualSize/n)-m,e.$wrapperEl.css({[r("width")]:`${e.virtualSize+m}px`}),d){s.splice(0,s.length);const w=[];for(let p=0;p<s.length;p+=1){let o=s[p];S&&(o=Math.floor(o)),s[p]<e.virtualSize+s[0]&&w.push(o)}s.push(...w)}};e.grid={initSlides:b,updateSlide:M,updateWrapperSize:u}}const G={name:"slider.vue",data(){return{slides:[],modules:[$,q,W],currentIndex:0,activeSlide:[],lang:""}},props:{action:{type:String}},components:{Swiper:A,SwiperSlide:D},mounted(){this.loadSlides(),this.lang=document.documentElement.lang},methods:{loadSlides(){U.get(this.action).then(a=>{this.slides=a.data.data,this.activeSlide=a.data.data[0]}).catch(a=>{console.log(a)})},resize(a,e=[]){const _=Object.keys(e).map(l=>encodeURIComponent(l)+"="+encodeURIComponent(e[l])).join("&");return a.src+"&"+_}}},H={key:0,class:"h-full pb-4 relative flex-1 slider-container"},J=["href","title"],K={class:"w-full flex-1 overflow-hidden"},Q={class:"text-left mt-4"},X={key:0},Y={key:1,class:"relative h-14 min-h-[10%]"},Z=f("div",{class:"swiper-pagination"},null,-1),L=f("div",{class:"swiper-button-next"},null,-1),ee=f("div",{class:"swiper-button-prev"},null,-1),te=[Z,L,ee];function se(a,e,_,l,c,v){const b=B("swiper-slide"),M=B("swiper");return h(),g(P,null,[c.slides?(h(),g("div",H,[E(M,{cssMode:!0,modules:c.modules,slidesPerView:1,spaceBetween:30,navigation:{enabled:!0,nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},pagination:{clickable:!0,enabled:!0,type:"bullets",el:".swiper-pagination"},breakpoints:{768:{slidesPerView:4,grid:{rows:2}}},class:"work-slider h-full w-full"},{default:z(()=>[(h(!0),g(P,null,R(c.slides,u=>(h(),F(b,{class:"flex-row h-80 lg:h-full w-full"},{default:z(()=>[f("a",{href:"/"+c.lang+"/work/"+u.slug,class:"w-full h-full z-10 swiper-no-swiping flex flex-col",title:u.title},[f("div",K,[f("div",{class:"h-full w-full bg-cover bg-no-repeat bg-center hover:scale-110 transition-transform bg-dgrey",style:j({backgroundImage:"url("+u.cover+")"})},null,4)]),f("p",Q,[O(N(u.title)+" ",1),u.year?(h(),g("span",X,"- "+N(u.year),1)):k("",!0)])],8,J)]),_:2},1024))),256))]),_:1},8,["modules","navigation","pagination"])])):k("",!0),c.slides?(h(),g("div",Y,te)):k("",!0)],64)}const oe=C(G,[["render",se]]),V=T({});V.component("grid-slider",oe);V.mount("#app");
